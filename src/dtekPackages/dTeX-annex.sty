\RequirePackage{dTeX-base}
\dTeX@ProvidesPackage{
  name={annex},
  version={1.0},
  date={2019-04-29},
  description={Contains helpers for dealing with attachments}
}

% used to create clickable references
% commands used
%   hyperref
\RequirePackage[unicode]{hyperref}
% helps creating table of contents
% commands used
%   newlistof
\RequirePackage{tocloft}


% Skapar en ny lista för bilagor
\newlistof{bilagor}{bil}{Bilagor}

% \makebilaga{kortnamn}{Ett längre namn}{filnamn}
\DeclareDocumentCommand \makebilaga {m m m}{%
  \includepdf[ pages=-
             , addtolist={1,bilagor,#2,bil:#1}
  ]{#3}
}

% \bilaga{kortnamn} Referera till en bilaga
\DeclareDocumentCommand \bilaga {m}{%
  \hyperref[bil:#1]{bilaga \ref*{bil:#1}}%
}

