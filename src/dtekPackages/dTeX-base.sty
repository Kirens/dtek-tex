\NeedsTeXFormat{LaTeX2e}[2018-04-01]
\ProvidesPackage{dTeX-base}[2019-04-28 v1.0 Basic definitions that all dTeX
packages assume exists.]

\@ifpackageloaded{xparse}{}{\RequirePackage{xparse}}

\NewDocumentCommand \dTeX@RequirePackage {om} {%
  \IfNoValueTF{#1}%
    {\@ifpackageloaded{#2}{}{\RequirePackage{#2}}}%
    {\@ifpackageloaded{#2}%
      {\PackageWarning{dTeX.base}%
        {Package options might not be used}%
        %{#2 has already been loaded and might use different options}}%
        }%
      {\RequirePackage[#1]{#2}}}
}

\NewDocumentCommand \dTeX@Dep {m} {\dTeX@RequirePackage{dTeX-#1}}
